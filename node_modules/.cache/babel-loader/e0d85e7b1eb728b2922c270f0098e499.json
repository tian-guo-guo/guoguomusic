{"remainingRequest":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\src\\views\\playlists.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\src\\views\\playlists.vue","mtime":1582797554126},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGhpZ2hxdWFsaXR5LCB0b3BMaXN0IH0gZnJvbSAnQC9hcGkvcGxheWxpc3RzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyZWNvbW1lbmQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDmrYzljZXliIbnsbsKICAgICAgY2F0OiAn5YWo6YOoJywKICAgICAgLy8g6aG26YOo55qE5qCH6aKYCiAgICAgIGxpc3ROYW1lOiAnJywKICAgICAgLy8g6aG26YOo55qE5o+P6L+wCiAgICAgIGxpc3REZXNjOiAnJywKICAgICAgLy8g6aG26YOo55qE5bCB6Z2iCiAgICAgIGxpc3RDb3ZlcjogJycsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g6aG156CBCiAgICAgIHBhZ2U6IDEsCiAgICAgIC8vIOatjOWNleWIl+ihqAogICAgICBwbGF5TGlzdDogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY2F0OiBmdW5jdGlvbiBjYXQoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Y675q2M5Y2V6K+m5oOF6aG16Z2iCiAgICB0b1BsYXlMaXN0OiBmdW5jdGlvbiB0b1BsYXlMaXN0KGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGxheWxpc3Q/aWQ9Ii5jb25jYXQoaWQpKTsKICAgIH0sCiAgICAvLyDojrflj5bmrYzljZXkv6Hmga8KICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBoaWdocXVhbGl0eSh7CiAgICAgICAgY2F0OiB0aGlzLmNhdAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnBsYXlsaXN0cy5sZW5ndGggIT0gMCkgewogICAgICAgICAgX3RoaXMubGlzdE5hbWUgPSByZXMucGxheWxpc3RzWzBdLm5hbWU7CiAgICAgICAgICBfdGhpcy5saXN0RGVzYyA9IHJlcy5wbGF5bGlzdHNbMF0uZGVzY3JpcHRpb247CiAgICAgICAgICBfdGhpcy5saXN0Q292ZXIgPSByZXMucGxheWxpc3RzWzBdLmNvdmVySW1nVXJsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5saXN0TmFtZSA9ICcnOwogICAgICAgIH0KICAgICAgfSk7IC8vIOW6lemDqOeahOatjOWNleS/oeaBrwoKICAgICAgdG9wTGlzdCh7CiAgICAgICAgY2F0OiB0aGlzLmNhdCwKICAgICAgICBvZmZzZXQ6ICh0aGlzLnBhZ2UgLSAxKSAqIDEwCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMpOwogICAgICAgIF90aGlzLnBsYXlMaXN0ID0gcmVzLnBsYXlsaXN0czsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlID0gdmFsOwogICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["playlists.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA,SAAA,WAAA,EAAA,OAAA,QAAA,iBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,GAAA,EAAA,IAFA;AAGA;AACA,MAAA,QAAA,EAAA,EAJA;AAKA;AACA,MAAA,QAAA,EAAA,EANA;AAOA;AACA,MAAA,SAAA,EAAA,EARA;AASA;AACA,MAAA,KAAA,EAAA,CAVA;AAWA;AACA,MAAA,IAAA,EAAA,CAZA;AAaA;AACA,MAAA,QAAA,EAAA;AAdA,KAAA;AAgBA,GAnBA;AAoBA,EAAA,KAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,WAAA,OAAA;AACA;AAHA,GApBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,SAAA,OAAA;AACA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAFA,sBAEA,EAFA,EAEA;AACA,WAAA,OAAA,CAAA,IAAA,wBAAA,EAAA;AACA,KAJA;AAKA;AACA,IAAA,OANA,qBAMA;AAAA;;AACA,MAAA,WAAA,CAAA;AAAA,QAAA,GAAA,EAAA,KAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,SAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,SAAA,CAAA,CAAA,EAAA,IAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,SAAA,CAAA,CAAA,EAAA,WAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,SAAA,CAAA,CAAA,EAAA,WAAA;AACA,SAJA,MAIA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA;AACA,OARA,EADA,CAUA;;AACA,MAAA,OAAA,CAAA;AACA,QAAA,GAAA,EAAA,KAAA,GADA;AAEA,QAAA,MAAA,EAAA,CAAA,KAAA,IAAA,GAAA,CAAA,IAAA;AAFA,OAAA,CAAA,CAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,SAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,OAPA;AAQA,KAzBA;AA0BA,IAAA,mBA1BA,+BA0BA,GA1BA,EA0BA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,OAAA;AACA;AA7BA;AA5BA,CAAA","sourcesContent":["<template>\r\n  <div class=\"playlists-container\">\r\n    <!-- 同步 -->\r\n    <div class=\"top-card\" v-if=\"listName\">\r\n      <div class=\"icon-wrap\">\r\n        <img :src=\"listCover\" alt=\"\" />\r\n      </div>\r\n      <div class=\"content-wrap\">\r\n        <div class=\"tag\">精品歌单</div>\r\n        <div class=\"title\">\r\n          {{ listName }}\r\n        </div>\r\n        <div class=\"info\">{{ listDesc }}</div>\r\n      </div>\r\n      <img :src=\"listCover\" alt=\"\" class=\"bg\" />\r\n      <div class=\"bg-mask\"></div>\r\n    </div>\r\n    <div class=\"tab-container\">\r\n      <!-- tab栏 顶部 -->\r\n      <div class=\"tab-bar\">\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '全部' }\"\r\n          @click=\"cat = '全部'\"\r\n          >全部</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '欧美' }\"\r\n          @click=\"cat = '欧美'\"\r\n          >欧美</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '华语' }\"\r\n          @click=\"cat = '华语'\"\r\n          >华语</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '流行' }\"\r\n          @click=\"cat = '流行'\"\r\n          >流行</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '说唱' }\"\r\n          @click=\"cat = '说唱'\"\r\n          >说唱</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '摇滚' }\"\r\n          @click=\"cat = '摇滚'\"\r\n          >摇滚</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '民谣' }\"\r\n          @click=\"cat = '民谣'\"\r\n          >民谣</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '电子' }\"\r\n          @click=\"cat = '电子'\"\r\n          >电子</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '轻音乐' }\"\r\n          @click=\"cat = '轻音乐'\"\r\n          >轻音乐</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '影视原声' }\"\r\n          @click=\"cat = '影视原声'\"\r\n          >影视原声</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == 'ACG' }\"\r\n          @click=\"cat = 'ACG'\"\r\n          >ACG</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '怀旧' }\"\r\n          @click=\"cat = '怀旧'\"\r\n          >怀旧</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '治愈' }\"\r\n          @click=\"cat = '治愈'\"\r\n          >治愈</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '旅行' }\"\r\n          @click=\"cat = '旅行'\"\r\n          >旅行</span\r\n        >\r\n      </div>\r\n      <!-- tab的内容区域 -->\r\n      <div class=\"tab-content\">\r\n        <div class=\"items\">\r\n          <div class=\"item\" v-for=\"item in playList\" :key=\"item.id\" @click=\"toPlayList(item.id)\">\r\n            <div class=\"img-wrap\">\r\n              <div class=\"num-wrap\">\r\n                播放量:\r\n                <span class=\"num\">{{ item.playCount | formatCount }}</span>\r\n              </div>\r\n              <img :src=\"item.coverImgUrl\" alt=\"\" />\r\n              <span class=\"iconfont icon-play\"></span>\r\n            </div>\r\n            <p class=\"name\">{{ item.description }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 分页器 -->\r\n    <el-pagination\r\n      @current-change=\"handleCurrentChange\"\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n      :page-size=\"10\"\r\n      :current-page=\"page\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { highquality, topList } from '@/api/playlists';\r\nexport default {\r\n  name: 'recommend',\r\n  data() {\r\n    return {\r\n      // 歌单分类\r\n      cat: '全部',\r\n      // 顶部的标题\r\n      listName: '',\r\n      // 顶部的描述\r\n      listDesc: '',\r\n      // 顶部的封面\r\n      listCover: '',\r\n      // 总条数\r\n      total: 0,\r\n      // 页码\r\n      page: 1,\r\n      // 歌单列表\r\n      playList: []\r\n    };\r\n  },\r\n  watch: {\r\n    cat() {\r\n      this.getData();\r\n    }\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    // 去歌单详情页面\r\n    toPlayList(id) {\r\n      this.$router.push(`/playlist?id=${id}`);\r\n    },\r\n    // 获取歌单信息\r\n    getData() {\r\n      highquality({ cat: this.cat }).then(res => {\r\n        if (res.playlists.length != 0) {\r\n          this.listName = res.playlists[0].name;\r\n          this.listDesc = res.playlists[0].description;\r\n          this.listCover = res.playlists[0].coverImgUrl;\r\n        } else {\r\n          this.listName = '';\r\n        }\r\n      });\r\n      // 底部的歌单信息\r\n      topList({\r\n        cat: this.cat,\r\n        offset: (this.page - 1) * 10\r\n      }).then(res => {\r\n        // window.console.log(res);\r\n        this.playList = res.playlists;\r\n        this.total = res.total;\r\n      });\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n      this.getData();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.playlists-container {\r\n  .top-card {\r\n    padding: 20px;\r\n    height: 200px;\r\n    display: flex;\r\n    position: relative;\r\n    overflow: hidden;\r\n    border-radius: 5px;\r\n    .icon-wrap {\r\n      margin-right: 20px;\r\n      z-index: 1;\r\n      img {\r\n        width: 160px;\r\n        height: 160px;\r\n      }\r\n    }\r\n    .content-wrap {\r\n      z-index: 1;\r\n      .tag {\r\n        color: #dfac67;\r\n        border: 1px solid #dfac67;\r\n        width: 100px;\r\n        height: 30px;\r\n        text-align: center;\r\n        border-radius: 5px;\r\n        font-size: 16px;\r\n        line-height: 30px;\r\n        cursor: pointer;\r\n      }\r\n      .title {\r\n        color: white;\r\n        padding-top: 10px;\r\n      }\r\n      .info {\r\n        color: #888482;\r\n        font-size: 14px;\r\n        padding-top: 5px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-box-orient: vertical;\r\n        -webkit-line-clamp: 5;\r\n      }\r\n    }\r\n    .bg {\r\n      width: 100%;\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      z-index: 0;\r\n      filter: blur(20px);\r\n    }\r\n    .bg-mask {\r\n      width: 100%;\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background-color: rgba(0, 0, 0, 0.5);\r\n    }\r\n  }\r\n  .tab-container {\r\n    padding-top: 30px;\r\n    .tab-bar {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      .item {\r\n        font-size: 15px;\r\n        color: gray;\r\n        margin-right: 20px;\r\n        cursor: pointer;\r\n        &.active {\r\n          color: #dd6d60;\r\n        }\r\n      }\r\n    }\r\n    .tab-content {\r\n      margin-top: 20px;\r\n      .items {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        .item {\r\n          width: 200px;\r\n          margin: 10px;\r\n          position: relative;\r\n          overflow: hidden;\r\n          cursor: pointer;\r\n          img {\r\n            width: 200px;\r\n            height: 200px;\r\n            border-radius: 5px;\r\n          }\r\n          .num-wrap {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            font-size: 14px;\r\n            color: white;\r\n            line-height: 30px;\r\n            background: rgba(0, 0, 0, 0.5);\r\n            height: 30px;\r\n            width: 100%;\r\n            padding-left: 5px;\r\n            top: -30px;\r\n            overflow: hidden;\r\n          }\r\n          &:hover .num-wrap {\r\n            top: 0;\r\n          }\r\n          .img-wrap {\r\n            position: relative;\r\n            .icon-play {\r\n              position: absolute;\r\n              right: 10px;\r\n              bottom: 13px;\r\n              width: 40px;\r\n              height: 40px;\r\n              color: #dd6d60;\r\n              font-size: 20px;\r\n              border-radius: 50%;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              background: rgba(255, 255, 255, 0.8);\r\n              opacity: 0;\r\n              &::before {\r\n                transform: translateX(3px);\r\n              }\r\n            }\r\n            &:hover .icon-play {\r\n              opacity: 1;\r\n            }\r\n          }\r\n          .name {\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            display: -webkit-box;\r\n            -webkit-box-orient: vertical;\r\n            -webkit-line-clamp: 2;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}