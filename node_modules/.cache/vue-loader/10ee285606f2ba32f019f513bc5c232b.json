{"remainingRequest":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\src\\views\\playlists.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\src\\views\\playlists.vue","mtime":1583206817098},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBoaWdocXVhbGl0eSwgdG9wTGlzdCB9IGZyb20gJ0AvYXBpL3BsYXlsaXN0cyc7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdyZWNvbW1lbmQnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDmrYzljZXliIbnsbsNCiAgICAgIGNhdDogJ+WFqOmDqCcsDQogICAgICAvLyDpobbpg6jnmoTmoIfpopgNCiAgICAgIGxpc3ROYW1lOiAnJywNCiAgICAgIC8vIOmhtumDqOeahOaPj+i/sA0KICAgICAgbGlzdERlc2M6ICcnLA0KICAgICAgLy8g6aG26YOo55qE5bCB6Z2iDQogICAgICBsaXN0Q292ZXI6ICcnLA0KICAgICAgLy8g5oC75p2h5pWwDQogICAgICB0b3RhbDogMCwNCiAgICAgIC8vIOmhteeggQ0KICAgICAgcGFnZTogMSwNCiAgICAgIC8vIOatjOWNleWIl+ihqA0KICAgICAgcGxheUxpc3Q6IFtdDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBjYXQoKSB7DQogICAgICB0aGlzLmdldERhdGEoKTsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXREYXRhKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDljrvmrYzljZXor6bmg4XpobXpnaINCiAgICB0b1BsYXlMaXN0KGlkKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3BsYXlsaXN0P2lkPSR7aWR9YCk7DQogICAgfSwNCiAgICAvLyDojrflj5bmrYzljZXkv6Hmga8NCiAgICBnZXREYXRhKCkgew0KICAgICAgaGlnaHF1YWxpdHkoeyBjYXQ6IHRoaXMuY2F0IH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5wbGF5bGlzdHMubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICB0aGlzLmxpc3ROYW1lID0gcmVzLnBsYXlsaXN0c1swXS5uYW1lOw0KICAgICAgICAgIHRoaXMubGlzdERlc2MgPSByZXMucGxheWxpc3RzWzBdLmRlc2NyaXB0aW9uOw0KICAgICAgICAgIHRoaXMubGlzdENvdmVyID0gcmVzLnBsYXlsaXN0c1swXS5jb3ZlckltZ1VybDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmxpc3ROYW1lID0gJyc7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgLy8g5bqV6YOo55qE5q2M5Y2V5L+h5oGvDQogICAgICB0b3BMaXN0KHsNCiAgICAgICAgY2F0OiB0aGlzLmNhdCwNCiAgICAgICAgb2Zmc2V0OiAodGhpcy5wYWdlIC0gMSkgKiAxMA0KICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgdGhpcy5wbGF5TGlzdCA9IHJlcy5wbGF5bGlzdHM7DQogICAgICAgIHRoaXMudG90YWwgPSByZXMudG90YWw7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnBhZ2UgPSB2YWw7DQogICAgICB0aGlzLmdldERhdGEoKTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["playlists.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"playlists.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"playlists-container\">\r\n    <!-- 同步 -->\r\n    <div class=\"top-card\" v-if=\"listName\">\r\n      <div class=\"icon-wrap\">\r\n        <img :src=\"listCover\" alt=\"\" />\r\n      </div>\r\n      <div class=\"content-wrap\">\r\n        <div class=\"tag\">精品歌单</div>\r\n        <div class=\"title\">\r\n          {{ listName }}\r\n        </div>\r\n        <div class=\"info\">{{ listDesc }}</div>\r\n      </div>\r\n      <img :src=\"listCover\" alt=\"\" class=\"bg\" />\r\n      <div class=\"bg-mask\"></div>\r\n    </div>\r\n    <div class=\"tab-container\">\r\n      <!-- tab栏 顶部 -->\r\n      <div class=\"tab-bar\">\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '全部' }\"\r\n          @click=\"cat = '全部'\"\r\n          >全部</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '欧美' }\"\r\n          @click=\"cat = '欧美'\"\r\n          >欧美</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '华语' }\"\r\n          @click=\"cat = '华语'\"\r\n          >华语</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '流行' }\"\r\n          @click=\"cat = '流行'\"\r\n          >流行</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '说唱' }\"\r\n          @click=\"cat = '说唱'\"\r\n          >说唱</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '摇滚' }\"\r\n          @click=\"cat = '摇滚'\"\r\n          >摇滚</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '民谣' }\"\r\n          @click=\"cat = '民谣'\"\r\n          >民谣</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '电子' }\"\r\n          @click=\"cat = '电子'\"\r\n          >电子</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '轻音乐' }\"\r\n          @click=\"cat = '轻音乐'\"\r\n          >轻音乐</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '影视原声' }\"\r\n          @click=\"cat = '影视原声'\"\r\n          >影视原声</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == 'ACG' }\"\r\n          @click=\"cat = 'ACG'\"\r\n          >ACG</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '怀旧' }\"\r\n          @click=\"cat = '怀旧'\"\r\n          >怀旧</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '治愈' }\"\r\n          @click=\"cat = '治愈'\"\r\n          >治愈</span\r\n        >\r\n        <span\r\n          class=\"item\"\r\n          :class=\"{ active: cat == '旅行' }\"\r\n          @click=\"cat = '旅行'\"\r\n          >旅行</span\r\n        >\r\n      </div>\r\n      <!-- tab的内容区域 -->\r\n      <div class=\"tab-content\">\r\n        <div class=\"items\">\r\n          <div class=\"item\" v-for=\"(item,index) in playList\" :key=\"index\" @click=\"toPlayList(item.id)\">\r\n            <div class=\"img-wrap\">\r\n              <div class=\"num-wrap\">\r\n                播放量:\r\n                <span class=\"num\">{{ item.playCount | formatCount }}</span>\r\n              </div>\r\n              <img :src=\"item.coverImgUrl\" alt=\"\" />\r\n              <span class=\"iconfont icon-play\"></span>\r\n            </div>\r\n            <p class=\"name\">{{ item.description }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 分页器 -->\r\n    <el-pagination\r\n      @current-change=\"handleCurrentChange\"\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n      :page-size=\"10\"\r\n      :current-page=\"page\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { highquality, topList } from '@/api/playlists';\r\nexport default {\r\n  name: 'recommend',\r\n  data() {\r\n    return {\r\n      // 歌单分类\r\n      cat: '全部',\r\n      // 顶部的标题\r\n      listName: '',\r\n      // 顶部的描述\r\n      listDesc: '',\r\n      // 顶部的封面\r\n      listCover: '',\r\n      // 总条数\r\n      total: 0,\r\n      // 页码\r\n      page: 1,\r\n      // 歌单列表\r\n      playList: []\r\n    };\r\n  },\r\n  watch: {\r\n    cat() {\r\n      this.getData();\r\n    }\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    // 去歌单详情页面\r\n    toPlayList(id) {\r\n      this.$router.push(`/playlist?id=${id}`);\r\n    },\r\n    // 获取歌单信息\r\n    getData() {\r\n      highquality({ cat: this.cat }).then(res => {\r\n        if (res.playlists.length != 0) {\r\n          this.listName = res.playlists[0].name;\r\n          this.listDesc = res.playlists[0].description;\r\n          this.listCover = res.playlists[0].coverImgUrl;\r\n        } else {\r\n          this.listName = '';\r\n        }\r\n      });\r\n      // 底部的歌单信息\r\n      topList({\r\n        cat: this.cat,\r\n        offset: (this.page - 1) * 10\r\n      }).then(res => {\r\n        // window.console.log(res);\r\n        this.playList = res.playlists;\r\n        this.total = res.total;\r\n      });\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n      this.getData();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n"]}]}