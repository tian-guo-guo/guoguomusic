{"remainingRequest":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\src\\views\\songs.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\src\\views\\songs.vue","mtime":1582798204843},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB0b3BTb25ncyB9IGZyb20gJ0AvYXBpL3NvbmdzJzsNCmltcG9ydCB7IHNvbmdVcmwgfSBmcm9tICdAL2FwaS9kaXNjb3ZlcnknOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnc29uZ3MnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0eXBlOiAwLA0KICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgIC8vIOaYr+WQpuWKoOi9vQ0KICAgICAgbG9hZGluZzpmYWxzZQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXREYXRhKCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRvcFNvbmdzKHsNCiAgICAgICAgdHlwZTogdGhpcy50eXBlDQogICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIC8vIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhOw0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBwbGF5TXVzaWMoaWQpIHsNCiAgICAgIHNvbmdVcmwoew0KICAgICAgICBpZDogaWQNCiAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgLy8gdGhpcy5zb25nVXJsID0gcmVzLmRhdGFbMF0udXJsDQogICAgICAgIHRoaXMuJHBhcmVudC51cmwgPSByZXMuZGF0YVswXS51cmw7DQogICAgICB9KTsNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdHlwZSgpIHsNCiAgICAgIHRoaXMuZ2V0RGF0YSgpOw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldERhdGEoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["songs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"songs.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"songs-container\">\r\n    <div class=\"tab-bar\">\r\n      <span class=\"item\" :class=\"{ active: type == 0 }\" @click=\"type = 0\"\r\n        >全部</span\r\n      >\r\n      <span class=\"item\" :class=\"{ active: type == 7 }\" @click=\"type = 7\"\r\n        >华语</span\r\n      >\r\n      <span class=\"item\" :class=\"{ active: type == 96 }\" @click=\"type = 96\"\r\n        >欧美</span\r\n      >\r\n      <span class=\"item\" :class=\"{ active: type == 8 }\" @click=\"type = 8\"\r\n        >日本</span\r\n      >\r\n      <span class=\"item\" :class=\"{ active: type == 16 }\" @click=\"type = 16\"\r\n        >韩国</span\r\n      >\r\n    </div>\r\n    <!-- 底部的table -->\r\n    <el-table class=\"song-table\" :data=\"tableData\" >\r\n      <el-table-column type=\"index\"></el-table-column>\r\n      <el-table-column width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"img-wrap\">\r\n            <img :src=\"scope.row.album.picUrl\" alt=\"\" />\r\n            <span\r\n              class=\"iconfont icon-play\"\r\n              @click=\"playMusic(scope.row.id)\"\r\n            ></span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column width=\"280\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"song-wrap\">\r\n            <div class=\"name-wrap\">\r\n              <span>{{ scope.row.name }}</span>\r\n              <span v-if=\"scope.row.mvid != 0\" class=\"iconfont icon-mv\"></span>\r\n            </div>\r\n            <span>{{ scope.row.subTitle }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column width=\"280\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.artists[0].name }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column width=\"280\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.album.name }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column>\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.duration | formatDuration }}\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { topSongs } from '@/api/songs';\r\nimport { songUrl } from '@/api/discovery';\r\nexport default {\r\n  name: 'songs',\r\n  data() {\r\n    return {\r\n      type: 0,\r\n      tableData: [],\r\n      // 是否加载\r\n      loading:false\r\n    };\r\n  },\r\n  methods: {\r\n    getData() {\r\n      this.loading = true;\r\n      topSongs({\r\n        type: this.type\r\n      }).then(res => {\r\n        // window.console.log(res);\r\n        this.tableData = res.data;\r\n        this.loading = false\r\n      });\r\n    },\r\n    playMusic(id) {\r\n      songUrl({\r\n        id: id\r\n      }).then(res => {\r\n        // window.console.log(res)\r\n        // this.songUrl = res.data[0].url\r\n        this.$parent.url = res.data[0].url;\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    type() {\r\n      this.getData();\r\n    }\r\n  },\r\n  created() {\r\n    this.getData();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.songs-container {\r\n  .tab-bar {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    .item {\r\n      font-size: 15px;\r\n      color: gray;\r\n      margin-right: 20px;\r\n      cursor: pointer;\r\n      &.active {\r\n        color: #dd6d60;\r\n      }\r\n    }\r\n  }\r\n  .song-table {\r\n    .song-wrap {\r\n      > span {\r\n        margin-top: 20px;\r\n        display: inline-block;\r\n        color: #bebebe;\r\n      }\r\n      .icon-mv {\r\n        padding-left: 5px;\r\n        color: #dd6d60;\r\n      }\r\n    }\r\n    .img-wrap {\r\n      position: relative;\r\n      width: 70px;\r\n      height: 70px;\r\n      img {\r\n        width: 70px;\r\n        height: 70px;\r\n        border-radius: 5px;\r\n      }\r\n      .icon-play {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        width: 25px;\r\n        height: 25px;\r\n        color: #dd6d60;\r\n        font-size: 12px;\r\n        border-radius: 50%;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        background: rgba(255, 255, 255, 0.8);\r\n        &::before {\r\n          transform: translateX(1px);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}