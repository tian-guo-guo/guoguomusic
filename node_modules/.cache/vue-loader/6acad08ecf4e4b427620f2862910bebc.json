{"remainingRequest":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\src\\views\\mvs.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\src\\views\\mvs.vue","mtime":1582797554123},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hulinghao\\Desktop\\公开课\\01.项目\\webmusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhbGxNdnMgfSBmcm9tICdAL2FwaS9tdnMnOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnbXZzJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYXJlYTogJ+WFqOmDqCcsDQogICAgICB0eXBlOiAn5YWo6YOoJywNCiAgICAgIG9yZGVyOiAn5LiK5Y2H5pyA5b+rJywNCiAgICAgIC8vIOavj+mhteaVsOaNrg0KICAgICAgbGltaXQ6IDEyLA0KICAgICAgLy8g6aG156CBDQogICAgICBwYWdlOiAxLA0KICAgICAgLy8g5oC75p2h5pWwDQogICAgICB0b3RhbDogMCwNCiAgICAgIC8vIG125YiX6KGo5pWw5o2uDQogICAgICBtdkxpc3Q6IFtdDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldERhdGEoKTsNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBhcmVhOiBbDQogICAgICBmdW5jdGlvbigpIHsNCiAgICAgICAgdGhpcy5wYWdlID0gMTsNCiAgICAgIH0sDQogICAgICAnZ2V0RGF0YScNCiAgICBdLA0KICAgIHR5cGU6IFsNCiAgICAgIGZ1bmN0aW9uKCkgew0KICAgICAgICB0aGlzLnBhZ2UgPSAxOw0KICAgICAgfSwNCiAgICAgICdnZXREYXRhJw0KICAgIF0sDQogICAgb3JkZXI6IFsNCiAgICAgIGZ1bmN0aW9uKCkgew0KICAgICAgICB0aGlzLnBhZ2UgPSAxOw0KICAgICAgfSwNCiAgICAgICdnZXREYXRhJw0KICAgIF0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOmhteeggeaUueWPmA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnBhZ2UgPSB2YWw7DQogICAgICB0aGlzLmdldERhdGEoKTsNCiAgICB9LA0KICAgIGdldERhdGEoKSB7DQogICAgICBjb25zdCB7IGFyZWEsIHR5cGUsIG9yZGVyIH0gPSB0aGlzOw0KICAgICAgYWxsTXZzKHsNCiAgICAgICAgYXJlYSwNCiAgICAgICAgdHlwZSwNCiAgICAgICAgb3JkZXIsDQogICAgICAgIG9mZnNldDogKHRoaXMucGFnZSAtIDEpICogdGhpcy5saW1pdA0KICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cocmVzKQ0KICAgICAgICB0aGlzLm12TGlzdCA9IHJlcy5kYXRhOw0KICAgICAgICBpZiAocmVzLmNvdW50KSB7DQogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5jb3VudDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICB0b012KGlkKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL212P2lkPSR7aWR9YCk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["mvs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mvs.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"mvs-container\">\r\n    <div class=\"filter-wrap\">\r\n      <div class=\"seciton-wrap\">\r\n        <span class=\"section-type\">地区:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '全部' }\"\r\n              @click=\"area = '全部'\"\r\n              >全部</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '内地' }\"\r\n              @click=\"area = '内地'\"\r\n              >内地</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '港台' }\"\r\n              @click=\"area = '港台'\"\r\n              >港台</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '欧美' }\"\r\n              @click=\"area = '欧美'\"\r\n              >欧美</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '日本' }\"\r\n              @click=\"area = '日本'\"\r\n              >日本</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '韩国' }\"\r\n              @click=\"area = '韩国'\"\r\n              >韩国</span\r\n            >\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"type-wrap\">\r\n        <span class=\"type-type\">类型:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '全部' }\"\r\n              @click=\"type = '全部'\"\r\n              >全部</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '官方版' }\"\r\n              @click=\"type = '官方版'\"\r\n              >官方版</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '原声' }\"\r\n              @click=\"type = '原声'\"\r\n              >原声</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '现场版' }\"\r\n              @click=\"type = '现场版'\"\r\n              >现场版</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '网易出品' }\"\r\n              @click=\"type = '网易出品'\"\r\n              >网易出品</span\r\n            >\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"order-wrap\">\r\n        <span class=\"order-type\">排序:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: order == '上升最快' }\"\r\n              @click=\"order = '上升最快'\"\r\n              >上升最快</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: order == '最热' }\"\r\n              @click=\"order = '最热'\"\r\n              >最热</span\r\n            >\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: order == '最新' }\"\r\n              @click=\"order = '最新'\"\r\n              >最新</span\r\n            >\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <!-- mv容器 -->\r\n    <!-- 推荐MV -->\r\n    <div class=\"mvs\">\r\n      <div class=\"items\">\r\n        <div\r\n          v-for=\"item in mvList\"\r\n          :key=\"item.id\"\r\n          class=\"item\"\r\n          @click=\"toMv(item.id)\"\r\n        >\r\n          <div class=\"img-wrap\">\r\n            <img :src=\"item.cover\" alt=\"\" />\r\n            <div class=\"num-wrap\">\r\n              <div class=\"iconfont icon-play\"></div>\r\n              <div class=\"num\">{{ item.playCount | formatCount }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"info-wrap\">\r\n            <div class=\"name\">{{ item.name }}</div>\r\n            <div class=\"singer\">{{ item.artisetName }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 分页器 -->\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n        :current-page=\"page\"\r\n        :page-size=\"5\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { allMvs } from '@/api/mvs';\r\nexport default {\r\n  name: 'mvs',\r\n  data() {\r\n    return {\r\n      area: '全部',\r\n      type: '全部',\r\n      order: '上升最快',\r\n      // 每页数据\r\n      limit: 12,\r\n      // 页码\r\n      page: 1,\r\n      // 总条数\r\n      total: 0,\r\n      // mv列表数据\r\n      mvList: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  watch: {\r\n    area: [\r\n      function() {\r\n        this.page = 1;\r\n      },\r\n      'getData'\r\n    ],\r\n    type: [\r\n      function() {\r\n        this.page = 1;\r\n      },\r\n      'getData'\r\n    ],\r\n    order: [\r\n      function() {\r\n        this.page = 1;\r\n      },\r\n      'getData'\r\n    ]\r\n  },\r\n  methods: {\r\n    // 页码改变\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n      this.getData();\r\n    },\r\n    getData() {\r\n      const { area, type, order } = this;\r\n      allMvs({\r\n        area,\r\n        type,\r\n        order,\r\n        offset: (this.page - 1) * this.limit\r\n      }).then(res => {\r\n        // window.console.log(res)\r\n        this.mvList = res.data;\r\n        if (res.count) {\r\n          this.total = res.count;\r\n        }\r\n      });\r\n    },\r\n    toMv(id) {\r\n      this.$router.push(`/mv?id=${id}`);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.mvs-container {\r\n  padding-top: 20px;\r\n  .filter-wrap {\r\n    > div {\r\n      margin-bottom: 30px;\r\n      vertical-align: baseline;\r\n      display: flex;\r\n      align-items: center;\r\n      span {\r\n        font-size: 14px;\r\n        height: 100%;\r\n        &.title {\r\n          margin: 20px;\r\n          color: gray;\r\n          cursor: pointer;\r\n          padding: 5px 20px;\r\n          &.active {\r\n            color: #dd6d60;\r\n            background-color: #fcf6f5;\r\n            border-radius: 20px;\r\n          }\r\n          &::before {\r\n            content: '', pos;\r\n          }\r\n        }\r\n      }\r\n      ul {\r\n        display: flex;\r\n        li:not(:last-child) {\r\n          border-right: 1px solid #f2f2f1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .mvs {\r\n    .items {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-wrap: wrap;\r\n      .item {\r\n        width: 250px;\r\n        cursor: pointer;\r\n        margin-right: 25px;\r\n        margin-bottom: 30px;\r\n        .img-wrap {\r\n          width: 100%;\r\n          position: relative;\r\n          img {\r\n            width: 100%;\r\n            border-radius: 5px;\r\n          }\r\n          .num-wrap {\r\n            position: absolute;\r\n            color: white;\r\n            top: 0;\r\n            right: 0;\r\n            display: flex;\r\n            align-content: center;\r\n            font-size: 15px;\r\n            padding-right: 5px;\r\n            padding-top: 2px;\r\n            .icon-play {\r\n              font-size: 12px;\r\n              display: flex;\r\n              align-items: center;\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n        }\r\n        .info-wrap {\r\n          .name {\r\n            font-size: 15px;\r\n          }\r\n          .singer {\r\n            font-size: 14px;\r\n            color: #c5c5c5;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}