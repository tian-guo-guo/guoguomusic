{"remainingRequest":"/Users/suntian/Downloads/videos/Vue音乐播放器-带你进阶Vue技术栈-手把手教你打造自己的音乐播放器/vue进阶，打造音乐播放器资料/公开课-day04/webmusic-study/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/suntian/Downloads/videos/Vue音乐播放器-带你进阶Vue技术栈-手把手教你打造自己的音乐播放器/vue进阶，打造音乐播放器资料/公开课-day04/webmusic-study/src/views/playlists.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/suntian/Downloads/videos/Vue音乐播放器-带你进阶Vue技术栈-手把手教你打造自己的音乐播放器/vue进阶，打造音乐播放器资料/公开课-day04/webmusic-study/src/views/playlists.vue","mtime":1611105600524},{"path":"/Users/suntian/Downloads/videos/Vue音乐播放器-带你进阶Vue技术栈-手把手教你打造自己的音乐播放器/vue进阶，打造音乐播放器资料/公开课-day04/webmusic-study/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/suntian/Downloads/videos/Vue音乐播放器-带你进阶Vue技术栈-手把手教你打造自己的音乐播放器/vue进阶，打造音乐播放器资料/公开课-day04/webmusic-study/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/suntian/Downloads/videos/Vue音乐播放器-带你进阶Vue技术栈-手把手教你打造自己的音乐播放器/vue进阶，打造音乐播放器资料/公开课-day04/webmusic-study/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/suntian/Downloads/videos/Vue音乐播放器-带你进阶Vue技术栈-手把手教你打造自己的音乐播放器/vue进阶，打造音乐播放器资料/公开课-day04/webmusic-study/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGhpZ2hxdWFsaXR5LCB0b3BMaXN0IH0gZnJvbSAnQC9hcGkvcGxheWxpc3RzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyZWNvbW1lbmQnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDmrYzljZXliIbnsbsKICAgICAgY2F0OiAn5YWo6YOoJywKICAgICAgLy8g6aG26YOo55qE5qCH6aKYCiAgICAgIGxpc3ROYW1lOiAnJywKICAgICAgLy8g6aG26YOo55qE5o+P6L+wCiAgICAgIGxpc3REZXNjOiAnJywKICAgICAgLy8g6aG26YOo55qE5bCB6Z2iCiAgICAgIGxpc3RDb3ZlcjogJycsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g6aG156CBCiAgICAgIHBhZ2U6IDEsCiAgICAgIC8vIOatjOWNleWIl+ihqAogICAgICBwbGF5TGlzdDogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY2F0KCkgewogICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWOu+atjOWNleivpuaDhemhtemdogogICAgdG9QbGF5TGlzdChpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3BsYXlsaXN0P2lkPSR7aWR9YCk7CiAgICB9LAogICAgLy8g6I635Y+W5q2M5Y2V5L+h5oGvCiAgICBnZXREYXRhKCkgewogICAgICBoaWdocXVhbGl0eSh7IGNhdDogdGhpcy5jYXQgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucGxheWxpc3RzLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgICB0aGlzLmxpc3ROYW1lID0gcmVzLnBsYXlsaXN0c1swXS5uYW1lOwogICAgICAgICAgdGhpcy5saXN0RGVzYyA9IHJlcy5wbGF5bGlzdHNbMF0uZGVzY3JpcHRpb247CiAgICAgICAgICB0aGlzLmxpc3RDb3ZlciA9IHJlcy5wbGF5bGlzdHNbMF0uY292ZXJJbWdVcmw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubGlzdE5hbWUgPSAnJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyDlupXpg6jnmoTmrYzljZXkv6Hmga8KICAgICAgdG9wTGlzdCh7CiAgICAgICAgY2F0OiB0aGlzLmNhdCwKICAgICAgICBvZmZzZXQ6ICh0aGlzLnBhZ2UgLSAxKSAqIDEwCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLnBsYXlMaXN0ID0gcmVzLnBsYXlsaXN0czsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2UgPSB2YWw7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["playlists.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"playlists.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"playlists-container\">\n    <!-- 同步 -->\n    <div class=\"top-card\" v-if=\"listName\">\n      <div class=\"icon-wrap\">\n        <img :src=\"listCover\" alt=\"\" />\n      </div>\n      <div class=\"content-wrap\">\n        <div class=\"tag\">精品歌单</div>\n        <div class=\"title\">\n          {{ listName }}\n        </div>\n        <div class=\"info\">{{ listDesc }}</div>\n      </div>\n      <img :src=\"listCover\" alt=\"\" class=\"bg\" />\n      <div class=\"bg-mask\"></div>\n    </div>\n    <div class=\"tab-container\">\n      <!-- tab栏 顶部 -->\n      <div class=\"tab-bar\">\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '全部' }\"\n          @click=\"cat = '全部'\"\n          >全部</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '欧美' }\"\n          @click=\"cat = '欧美'\"\n          >欧美</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '华语' }\"\n          @click=\"cat = '华语'\"\n          >华语</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '流行' }\"\n          @click=\"cat = '流行'\"\n          >流行</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '说唱' }\"\n          @click=\"cat = '说唱'\"\n          >说唱</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '摇滚' }\"\n          @click=\"cat = '摇滚'\"\n          >摇滚</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '民谣' }\"\n          @click=\"cat = '民谣'\"\n          >民谣</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '电子' }\"\n          @click=\"cat = '电子'\"\n          >电子</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '轻音乐' }\"\n          @click=\"cat = '轻音乐'\"\n          >轻音乐</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '影视原声' }\"\n          @click=\"cat = '影视原声'\"\n          >影视原声</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == 'ACG' }\"\n          @click=\"cat = 'ACG'\"\n          >ACG</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '怀旧' }\"\n          @click=\"cat = '怀旧'\"\n          >怀旧</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '治愈' }\"\n          @click=\"cat = '治愈'\"\n          >治愈</span\n        >\n        <span\n          class=\"item\"\n          :class=\"{ active: cat == '旅行' }\"\n          @click=\"cat = '旅行'\"\n          >旅行</span\n        >\n      </div>\n      <!-- tab的内容区域 -->\n      <div class=\"tab-content\">\n        <div class=\"items\">\n          <div class=\"item\" v-for=\"(item,index) in playList\" :key=\"index\" @click=\"toPlayList(item.id)\">\n            <div class=\"img-wrap\">\n              <div class=\"num-wrap\">\n                播放量:\n                <span class=\"num\">{{ item.playCount | formatCount }}</span>\n              </div>\n              <img :src=\"item.coverImgUrl\" alt=\"\" />\n              <span class=\"iconfont icon-play\"></span>\n            </div>\n            <p class=\"name\">{{ item.description }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 分页器 -->\n    <el-pagination\n      @current-change=\"handleCurrentChange\"\n      background\n      layout=\"prev, pager, next\"\n      :total=\"total\"\n      :page-size=\"10\"\n      :current-page=\"page\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nimport { highquality, topList } from '@/api/playlists';\nexport default {\n  name: 'recommend',\n  data() {\n    return {\n      // 歌单分类\n      cat: '全部',\n      // 顶部的标题\n      listName: '',\n      // 顶部的描述\n      listDesc: '',\n      // 顶部的封面\n      listCover: '',\n      // 总条数\n      total: 0,\n      // 页码\n      page: 1,\n      // 歌单列表\n      playList: []\n    };\n  },\n  watch: {\n    cat() {\n      this.getData();\n    }\n  },\n  created() {\n    this.getData();\n  },\n  methods: {\n    // 去歌单详情页面\n    toPlayList(id) {\n      this.$router.push(`/playlist?id=${id}`);\n    },\n    // 获取歌单信息\n    getData() {\n      highquality({ cat: this.cat }).then(res => {\n        if (res.playlists.length != 0) {\n          this.listName = res.playlists[0].name;\n          this.listDesc = res.playlists[0].description;\n          this.listCover = res.playlists[0].coverImgUrl;\n        } else {\n          this.listName = '';\n        }\n      });\n      // 底部的歌单信息\n      topList({\n        cat: this.cat,\n        offset: (this.page - 1) * 10\n      }).then(res => {\n        // window.console.log(res);\n        this.playList = res.playlists;\n        this.total = res.total;\n      });\n    },\n    handleCurrentChange(val) {\n      this.page = val;\n      this.getData();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n\n</style>\n"]}]}